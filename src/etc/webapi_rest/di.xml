<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">

    <!-- INTERFACE PREFERENCES FOR DI -->
    <preference for="Hatimeria\Reagento\Api\HatimeriaCartManagementInterface" type="\Magento\Quote\Model\QuoteManagement" />
    <preference for="Hatimeria\Reagento\Api\HatimeriaGuestCartManagementInterface" type="\Magento\Quote\Model\GuestCart\GuestCartManagement" />
    <preference for="Hatimeria\Reagento\Api\HatimeriaGuestPaymentInformationManagementInterface" type="\Magento\Checkout\Model\GuestPaymentInformationManagement" />
    <preference for="Hatimeria\Reagento\Api\HatimeriaPaymentInformationManagementInterface" type="\Magento\Checkout\Model\PaymentInformationManagement" />

    <!-- OVERRIDES -->
    <preference for="Magento\Catalog\Model\ResourceModel\Category" type="\Hatimeria\Reagento\Model\ResourceModel\Category" />
    <preference for="Magento\Catalog\Model\ResourceModel\Category\Collection" type="\Hatimeria\Reagento\Model\ResourceModel\Category\Collection" />
    <preference for="Magento\Cms\Model\ResourceModel\Block\Collection" type="\Hatimeria\Reagento\Model\ResourceModel\Block\Collection" />
    <preference for="Magento\Cms\Model\ResourceModel\Page\Collection" type="\Hatimeria\Reagento\Model\ResourceModel\Page\Collection" />

    <!-- PLUGINS -->
    <type name="Magento\Catalog\Model\Category">
        <plugin name="hatimeriaReagentoCategoryPlugin" type="\Hatimeria\Reagento\Plugin\Catalog\Model\Category" />
    </type>

    <type name="Magento\Catalog\Model\Product">
        <plugin name="hatimeriaReagentoProductPlugin" type="\Hatimeria\Reagento\Plugin\Catalog\Model\Product"/>
    </type>

    <type name="Magento\Framework\App\RouterInterface">
        <plugin name="hatimeriaReagentoRouterPlugin" type="Hatimeria\Reagento\Plugin\App\Router"/>
    </type>

    <type name="Magento\Framework\Webapi\Rest\Response">
        <plugin name="hatimeriaReagentoRestResponse" type="Hatimeria\Reagento\Plugin\Rest\Response" />
    </type>

    <type name="Magento\Quote\Model\Cart\Totals\ItemConverter">
        <plugin name="hatimeriaReagentoTotalsItemConverter" type="Hatimeria\Reagento\Plugin\Quote\Model\Cart\Totals\ItemConverter" />
    </type>

    <type name="Magento\Quote\Model\QuoteManagement">
        <plugin name="hatimeriaReagentoQuoteManagement" type="Hatimeria\Reagento\Plugin\Quote\Model\QuoteManagement" />
    </type>

    <type name="Magento\Store\Api\StoreConfigManagerInterface">
        <plugin name="hatimeriaReagentoStoreConfigManager" type="Hatimeria\Reagento\Plugin\Store\Api\StoreConfigManager" />
    </type>

    <type name="Magento\Store\Api\StoreRepositoryInterface">
        <plugin name="hatimeriaReagentoStoreRepositoryPlugin" type="Hatimeria\Reagento\Plugin\Store\Api\StoreRepository" />
    </type>
</config>
